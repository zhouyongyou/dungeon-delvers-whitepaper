# 2. 完全上鏈的遊戲機制 (Fully On-Chain Game Mechanics)

> **基於合約實現的真實遊戲機制** - 以智能合約為準的統一說明

## 2.1 NFT 資產系統 (NFT Asset System)

在 DungeonDelvers 中，所有遊戲資產都是運行在 BASE Chain 上的 NFT，確保真正的數位資產所有權：

### ⚔️ 英雄系統 (Hero System)
**英雄 NFT** 是您的專屬戰士，每個英雄都有獨特的戰力值：

| 稀有度 | 星級 | 抽中機率 | 戰力範圍 | 特色 |
|--------|------|----------|----------|------|
| **N** (Normal) | ⭐ | 44% | 15-50 | 普通英雄，適合新手 |
| **R** (Rare) | ⭐⭐ | 35% | 50-100 | 稀有英雄，戰力提升 |
| **SR** (Super Rare) | ⭐⭐⭐ | 15% | 100-150 | 超稀有英雄，強力戰士 |
| **SSR** (Super Super Rare) | ⭐⭐⭐⭐ | 5% | 150-200 | 極稀有英雄，頂級戰力 |
| **UR** (Ultra Rare) | ⭐⭐⭐⭐⭐ | 1% | 200-255 | 終極稀有，最強英雄 |

### ⚔️ 神器系統 (Relic System)
**神器 NFT** 為英雄提供額外戰力，並決定隊伍容量：

| 稀有度 | 星級 | 抽中機率 | 容量 | 說明 |
|--------|------|----------|------|------|
| **N** (Normal) | ⭐ | 44% | 1 | 基礎神器，可容納1個英雄 |
| **R** (Rare) | ⭐⭐ | 35% | 2 | 稀有神器，可組建2人隊伍 |
| **SR** (Super Rare) | ⭐⭐⭐ | 15% | 3 | 超稀有神器，最大3人隊伍 |
| **SSR** (Super Super Rare) | ⭐⭐⭐⭐ | 5% | 4 | 極稀有神器，強大4人隊伍 |
| **UR** (Ultra Rare) | ⭐⭐⭐⭐⭐ | 1% | 5 | 終極神器，最強5人滿隊 |

### 👥 隊伍系統 (Party System)
將英雄和神器組合成探險隊伍的 NFT 系統，隊伍總戰力等於所有英雄戰力的總和。

## 2.2 地下城探險系統 (Dungeon Exploration)

### 🏛️ 12個地下城詳解

**入門級地下城** (難度 ⭐)
- 🪨 **新手礦洞** - 獎勵 $1.20 SOUL
- 👹 **哥布林洞穴** - 獎勵 $2.40 SOUL
- 🗿 **食人魔山谷** - 獎勵 $4.00 SOUL

**進階級地下城** (難度 ⭐⭐)
- 🕷️ **蜘蛛巢穴** - 獎勵 $6.60 SOUL
- 🦎 **石化蜥蜴沼澤** - 獎勵 $10.40 SOUL
- 💀 **巫妖墓穴** - 獎勵 $15.60 SOUL

**專家級地下城** (難度 ⭐⭐⭐)
- 🐲 **奇美拉之巢** - 獎勵 $22.60 SOUL
- 👹 **惡魔前哨站** - 獎勵 $31.20 SOUL
- 🐉 **巨龍之巔** - 獎勵 $41.80 SOUL

**大師級地下城** (難度 ⭐⭐⭐⭐)
- ⚫ **混沌深淵** - 獎勵 $45.00 SOUL
- 🌀 **冥界之門** - 獎勵 $64.00 SOUL
- 🕳️ **虛空裂隙** - 獎勵 $90.00 SOUL

### 🎮 探險機制

1. **選擇地下城**：從 12 個不同難度的地下城中選擇目標
2. **組建隊伍**：將英雄放入神器中組成探險隊
3. **計算成功率**：系統根據隊伍戰力計算探險成功機率
4. **支付 ETH**：支付地下城探險費用
5. **獲得獎勵**：探險成功可獲得 $SOUL 代幣獎勵

### 🎲 公平隨機性
- 所有探險結果由 **Chainlink VRF** 決定
- 10-30 秒等待時間確保隨機品質
- 每次隨機請求約增加 $0.6-1.0 成本
- 任何人都無法預測或操控結果

## 2.3 玩家成長系統

### 📊 玩家檔案 (Player Profile - SBT)
玩家檔案是靈魂綁定代幣 (Soulbound Token)，記錄您的遊戲成就：

- **自動創建**：首次完成探險時自動鑄造
- **經驗追蹤**：每次探險獲得經驗值，自動記錄成長軌跡
- **等級系統**：等級 = √(經驗值/100) + 1
- **動態獎勵**：等級越高，金庫提領時稅率減免越多

### ✨ 英雄升階系統 (Hero Ascension)
在升階祭壇花費資源提升英雄品質：

| 升級目標 | 所需材料 | 升級費用 (ETH) | 大成功 | 普通成功 | 部分返還 | 完全失敗 |
|----------|----------|----------------|---------|----------|----------|----------|
| **升 2★** | 5個 1★ | 0.001 | 8% | 77% | 13% (返還2個) | 2% |
| **升 3★** | 4個 2★ | 0.002 | 6% | 69% | 20% (返還2個) | 5% |
| **升 4★** | 3個 3★ | 0.004 | 5% | 48% | 37% (返還1個) | 10% |
| **升 5★** | 2個 4★ | 0.01 | 6% | 34% | 46% (返還1個) | 14% |

## 2.4 VIP 質押系統

### 🌟 VIP 會員權益
- **質押代幣**：質押一定數量的 $SOUL 代幣成為 VIP
- **專屬權益**：VIP 玩家享有遊戲內特權
- **額外獎勵**：探險獲得額外的 $SOUL 代幣獎勵
- **稅率減免**：從智能金庫提領時享受更低稅率

### 💰 智能金庫系統 (Smart Vault)
- 所有探險獎勵首先存入智能金庫
- 玩家可隨時申請提領獎勵
- VIP 等級越高，提領稅率越低
- 24 小時冷卻期確保遊戲平衡

---

> **💡 技術說明**：所有遊戲機制都通過智能合約實現，確保公平透明。遊戲數據完全存儲在區塊鏈上，玩家擁有真正的數位資產所有權。

**合約地址**：所有核心合約已部署在 BASE 主網，詳見技術架構章節。
**隨機性保證**：使用 Chainlink VRF V2+ 確保絕對公平。